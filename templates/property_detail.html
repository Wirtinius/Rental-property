{% extends 'base.html' %}

{% block content %}
    <div class="row">
        <div class="col-md-8">
            <h1>{{ property.property_name }}</h1>
            <div class="row">
                {% for photo in property.propertyphoto_set.all %}
                    <div class="col-md-4 mb-4">
                    <img class="card-img-top" src="{{ photo.image.url}}" alt="Property Photo">
                    </div>
                {% endfor %}
            </div>
            <p>{{ property.summary }}</p>

            <h3>Property Details</h3>
            <ul class="list-group">
                <li class="list-group-item"><strong>Location:</strong> {{ property.location }}</li>
                <li class="list-group-item"><strong>Property Type:</strong> {{ property.property_type }}</li>
                <li class="list-group-item"><strong>Pincode:</strong> {{ property.location_pincode }}</li>
                <li class="list-group-item"><strong>City:</strong> {{ property.location_city }}</li>
                <li class="list-group-item"><strong>Area:</strong> {{ property.location_area }}</li>
                <li class="list-group-item"><strong>Landmark:</strong> {{ property.landmark }}</li>
                <li class="list-group-item"><strong>Owner or Agent:</strong> {% if property.owner_or_agent %} Owner {% else %} Agent {% endif %}</li>
                <li class="list-group-item"><strong>Mobile Number:</strong> {{ property.mobile_number }}</li>
            </ul>

            {% if property.property_type == 'rent' %}
                <h3>Rental Property Details</h3>
                <ul class="list-group">
                    <li class="list-group-item"><strong>Rent per Month:</strong> {{ property.rent_per_month }}</li>
                    <li class="list-group-item"><strong>Deposit:</strong> {{ property.deposit }}</li>
                    <li class="list-group-item"><strong>Available From:</strong> {{ property.available_from }}</li>
                    <li class="list-group-item"><strong>Owner Name:</strong> {{ property.owner_name }}</li>
                </ul>
            {% endif %}

            {% if property.property_type_buy %}
                <h3>Buying/Selling Property Details</h3>
                <ul class="list-group">
                    <li class="list-group-item"><strong>Property Type for Sale:</strong> {{ property.property_type_buy }}</li>
                    <li class="list-group-item"><strong>Owner Information:</strong> {{ property.owner_info }}</li>
                </ul>
            {% endif %}
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h3>Contact Owner</h3>
                    <form method="POST">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Your Email</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Message</label>
                            <textarea class="form-control" id="message" name="message" rows="4" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Send Visit Request</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
